---
title: "Kompatybilność z Tasmota"
sidebar_label: Kompatybilność z Tasmota
---

**Tasmota++**
我们的智能家居设备软件基于广受欢迎的开源项目[Tasmota](https://github.com/arendst/Tasmota)构建。

我们的设备软件开发流程如下：

- 定期拉取Tasmota最新稳定版本
- 添加支持自动发现功能及**简化**与家庭助理集成的配置项
- 编译包含我们定制代码和设置的版本
- 在数十台设备上进行测试
- 开放源代码及编译版本下载
- 预装在我们销售的设备中

所有改进代码均回馈至Tasmota社区，同时我们开发的Android应用已被采纳为Tasmota设备的官方配置工具，用于简化设备初始化设置。

## 我们提供的便利功能

### 配对模式

支持两种简易进入配对模式的方式：**长按设备按键4秒**，或快速连按6次（或更多次）设备按键。

此项改进旨在方便老年用户及视障人士操作（原需在短时间内精准按压四次使指示灯闪烁的方案存在一定使用门槛）。

### 网关发现

控制设备无需依赖互联网（厂商云服务）。这显著提升了操作响应速度，但也带来技术挑战。

核心难题是如何在局域网内定位网关。技术用户可通过设置静态IP解决，但普通用户不应为此困扰。

我们通过动态发现机制实现：无论网关切换有线/无线网络或变更IP地址，设备都能自动重连（需使用我们的定制固件）。

关键点在于每个设备的MQTT客户端名称需以网关ID开头。此配置会在设备与网关配对时自动下发，实现设备自主发现网关功能。

![MQTT客户端](/img/en/faq/mqtt_client_dom.png)

### 家庭助理集成

在我们的Tasmota固件编译版本中，我们已预先设置设备自动向网关进行服务发现（mqtt discovery）。所有设备均被加入**dom**群组。网关启动时会向该群组发布设备发现请求，并与新设备建立通信。具体说明详见文档中的[MQTT章节](/docs/ais_bramka_mqtt)

### 本地化设置

我们的Tasmota固件编译版本包含以下波兰本地化设置：

- 波兰语菜单界面
- 区域性NTP时间服务器（pl.pool.ntp.org, 0.pl.pool.ntp.org）
- 波兰时区配置
- 地理位置设为波兰中部（52.069528, 19.480300），用于基于日出日落的自动化场景设置

## 其他编译版本的Tasmota设备能否与网关兼容？

**可以**。由于网关内置MQTT代理，任何支持MQTT协议的设备均可与网关协同工作。

但操作可能不如我们的预装设备便捷，因为我们无法确认您设备刷入的固件是否已启用以下功能：
- 家庭助理集成支持
- mDNS服务发现
- 以及固件是否经过正确编译和刷写

有三种解决方案：

1. 深入理解MQTT协议与网关通信机制——我们[详细文档](/docs/ais_bramka_mqtt)已作说明，推荐采用此方案
2. 刷写我们提供的免费固件
3. 直接购买我们的预装设备，既支持项目发展又能享受开箱即用的完美体验——我们强烈推荐此方案 :)

## 设备与网关配对时传输哪些参数？

配对过程中网关向设备发送以下配置：

- FriendlyName1 - 配置器中设置的设备友好名称
- SSId1 - WiFi网络名称
- Password1 - WiFi密码
- MqttClient - 唯一MQTT客户端ID（网关标识符+设备MAC地址后6位）
- Topic - 唯一MQTT主题
- GroupTopic - 所有设备的群组主题**dom**
- MqttHost - 网关IP地址
- SetOption3 - 启用设备MQTT功能
- SetOption30 - 灯光群组分配（如在配置器中选择该选项）